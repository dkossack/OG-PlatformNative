<project name="phase" default="set-target">

  <!-- TODO: Use "bootstrap.xml" instead of this file so changes get copied to children -->
  
  <target name="initialise">
    <mkdir dir="${basedir}/../local" />
    <echo file="${basedir}/../local/ant-target.properties">ant.target=mvn-init
</echo>
  </target>

  <target name="set-target">
    <echo file="${basedir}/../local/ant-target.properties">ant.target=${ant.target}
</echo>
  </target>

  <target name="run-target" depends="skip-tests,og-public-snapshot-url,og-public-release-url">
    <property file="${basedir}/../../local/ant-target.properties" />
    <ant dir="${basedir}/../.." target="${ant.target}" />
  </target>

  <target name="skip-tests" if="skipTests">
    <echo file="${basedir}/../../local/ant-target.properties" append="true">skip.tests=true
</echo>
  </target>
  <target name="og-public-snapshot-url" if="og-public-snapshot.url">
    <echo file="${basedir}/../../local/ant-target.properties" append="true">og-public-snapshot.url=${og-public-snapshot.url}
</echo>
  </target>
  <target name="og-public-release-url" if="og-public-release.url">
    <echo file="${basedir}/../../local/ant-target.properties" append="true">og-public-release.url=${og-public-release.url}
</echo>
  </target>

</project>
